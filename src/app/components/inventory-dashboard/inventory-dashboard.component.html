<div class="container mx-auto p-6">
  <h2 class="text-2xl font-bold mb-4">Inventory Dashboard</h2>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div class="bg-white shadow-md rounded-lg p-4 text-center">
      <h3 class="text-lg font-semibold">Total Stock</h3>
      <p class="text-3xl font-bold text-blue-600">{{ totalStock }}</p>
    </div>
  </div>

  <h3 class="mt-6 text-xl font-semibold">Recent Stock Movements</h3>

  <div *ngIf="recentMovements.length === 0" class="text-red-500">
    No stock movements found.
  </div>

  <div class="overflow-x-auto mt-2">
    <table
      *ngIf="recentMovements.length > 0"
      class="min-w-full bg-white shadow-md rounded-lg"
    >
      <thead class="bg-gray-200">
        <tr>
          <th class="p-3 text-left">Product</th>
          <th class="p-3 text-left">Type</th>
          <th class="p-3 text-left">Quantity</th>
          <th class="p-3 text-left">Reason</th>
          <th class="p-3 text-left">Timestamp</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let movement of recentMovements" class="border-b">
          <td class="p-3">
            {{ movement.inventoryId?.productName || "Unknown Product" }}
          </td>
          <td
            class="p-3"
            [ngClass]="
              movement.type === 'INCREASE' ? 'text-green-600' : 'text-red-600'
            "
          >
            {{ movement.type }}
          </td>
          <td class="p-3">{{ movement.quantity }}</td>
          <td class="p-3">{{ movement.reason || "No reason provided" }}</td>
          <td class="p-3">{{ movement.timestamp | date : "short" }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
